# IoT Client

## Prerequisites
The [Iot-Middleware](../iot-middleware) needs to be up and running including all the required clients.
- Java 1.8.0_131
- Apache Maven 3.3.9

## Configuration
The Iot-Client can be configured via the [Defines](./src/main/java/at/ac/tuwien/infosys/iotclient/utils/Defines.java) class. The following variables have to be changed:  
*CONTRACT_ADDRESS:* address of the smart contract where client shall listen to the emitted logs.  
*IPC_PATH:* path to the geth.ipc file of the running geth client.

## Build
Go to the *iotclient* folder and execute:
```shell
mvn clean package
```

## Usage
```shell
USAGE: java -jar iot-client-1.0-SNAPSHOT-jar-with-dependencies.jar -d <arg> -f <arg> [-i <arg>] [-t <arg>]
```

**-f:** Name of the csv log file (without suffix e.g. test_run). This file can the be used for further analysis.  
**-d:** Total execution time (long value in ms) of the IoT client.  
**-t:** Amount of autogenerated topics (amount of simulated data sources) of the Virtual Driver  
**-i:** Id (mostly IP:PORT) which is used by the Virtual Driver  